---
interface SkillCategory {
  name: string;
  items?: string[];
  languages?: Array<{
    name: string;
    frameworks?: string[];
  }>;
}

interface Props {
  categories: SkillCategory[];
}

const { categories } = Astro.props;
---

<section class="mb-8">
  <h2 class="text-2xl font-bold text-slate-900 mb-6">Skills</h2>

  <div class="grid grid-cols-1 gap-6">
    {categories.map((category) => (
      <div class="bg-slate-50 rounded-lg p-4 page-break-avoid skill-category">
        <h3 class="text-lg font-bold text-slate-900 mb-3">{category.name}</h3>

        {category.languages ? (
          /* Programming Languages with frameworks */
          <div class="flex flex-wrap gap-2">
            {category.languages.map((lang) => (
              <div class="inline-flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-sm border border-slate-200">
                <span class="font-semibold text-slate-900 text-sm">{lang.name}</span>
                {lang.frameworks && lang.frameworks.length > 0 && (
                  <>
                    <span class="text-slate-300">|</span>
                    <div class="flex flex-wrap gap-1.5">
                      {lang.frameworks.map((framework) => (
                        <span class="px-2 py-0.5 bg-indigo-50 text-indigo-700 text-xs rounded-md border border-indigo-200">
                          {framework}
                        </span>
                      ))}
                    </div>
                  </>
                )}
              </div>
            ))}
          </div>
        ) : (
          /* Standard skill list */
          <div class="flex flex-wrap gap-2">
            {category.items?.map((skill) => (
              <span class="px-3 py-1 bg-white text-slate-700 text-sm rounded-md shadow-sm">
                {skill}
              </span>
            ))}
          </div>
        )}
      </div>
    ))}
  </div>
</section>
